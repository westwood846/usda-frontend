(this["webpackJsonpusda-react"]=this["webpackJsonpusda-react"]||[]).push([[8],{567:function(e,a,t){"use strict";t.r(a),t.d(a,"ReportPage",(function(){return C}));var n=t(0),r=t.n(n),l=t(34),c=t(54),i=t(570),o=(t(353),t(25)),m=t(330),s=t(38),u=t(546),d=t.n(u),b=t(547),f=t.n(b),p=t(102),v=t.n(p),E=t(329),y=t.n(E),h=t(548),g=t.n(h),j=function(e){var a=e.report,t=e.mass,n=function(e){return Object(s.h)(a,e)*t/100},l=n("Total lipid (fat)"),c=n("Carbohydrate, by difference"),i=n("Protein"),u=n("Water"),b=t-(l+c+i+u),p=[{name:"Total Fat",value:l},{name:"Total Carbs",value:c},{name:"Protein",value:i},{name:"Water",value:u},{name:"Other",value:b}],E=n("Fatty acids, total saturated"),h=n("Fatty acids, total polyunsaturated"),j=n("Fatty acids, total monounsaturated"),O=l-E-h-j,k=n("Fiber, total dietary"),N=n("Sugars, total"),F=[{name:"Polyunsat. Fat",value:h},{name:"Monounsat. Fat",value:j},{name:"Saturated Fat",value:E},{name:"Other Fats",value:O},{name:"Dietary Fiber",value:k},{name:"Sugar",value:N},{name:"Other Carbs",value:c-k-N},{name:"Protein",value:i},{name:"Water",value:u},{name:"Other",value:b}],R=[[d.a[500],d.a[700],d.a[800],d.a[300]],[f.a[500],f.a[700],f.a[300]],[v.a[700]],[y.a[500]],[g.a[300]]],M=p.map((function(e,a){return{value:e.name,color:R[a][0]}}));return r.a.createElement(m.h,{width:500,height:275},r.a.createElement(m.g,{data:p,dataKey:"value",cx:250,cy:125,innerRadius:30,outerRadius:60,fill:"#8884d8",isAnimationActive:!1},p.map((function(e,a){return r.a.createElement(m.d,{key:a,fill:R[a][0]})}))),r.a.createElement(m.g,{data:F,dataKey:"value",cx:250,cy:125,innerRadius:70,outerRadius:90,fill:"red",labelLine:!1,label:function(e){var a=e.cx,t=e.cy,n=e.midAngle,l=e.innerRadius,c=e.outerRadius,i=e.value,o=e.index,m=e.fill;if(!function(e){return e.percent>.03}(e))return null;var s=Math.PI/180,u=10+l+(c-l),d=a+u*Math.cos(-n*s),b=t+u*Math.sin(-n*s);return i=new Intl.NumberFormat("en-IN",{maximumFractionDigits:1}).format(i),r.a.createElement("text",{x:d,y:b,fill:m,textAnchor:d>a?"start":"end",dominantBaseline:"central"},F[o].name," ",i," g")},isAnimationActive:!1},F.map((function(e,a){return r.a.createElement(m.d,{key:"index",fill:Object(o.flatten)(R)[a]})})),r.a.createElement(m.e,{value:"".concat(t," g"),position:"center"})),r.a.createElement(m.f,{payload:M}))},O=function(e){var a=e.calories,t=Math.round(a/105),n=Math.round(a/95),l=Math.round(a/67),c=Math.round(a/350);return r.a.createElement("div",{className:"Comparator"},r.a.createElement("div",{className:"Comparator-header"},r.a.createElement("h2",null,a," kcal"),r.a.createElement("br",null),"equal"),r.a.createElement("div",{className:"emoji-comparator"},Object(o.times)(c,Object(o.constant)("\ud83c\udf79")),r.a.createElement("br",null),c," Cups of Bubble Tea"),r.a.createElement("div",{className:"emoji-comparator"},Object(o.times)(t,Object(o.constant)("\ud83c\udf4c")),r.a.createElement("br",null),t," Medium Bananas (118g)"),r.a.createElement("div",{className:"emoji-comparator"},Object(o.times)(n,Object(o.constant)("\ud83c\udf4e")),r.a.createElement("br",null),n," Apples (182g)"),r.a.createElement("div",{className:"emoji-comparator"},Object(o.times)(l,Object(o.constant)("\ud83c\udf5e")),r.a.createElement("br",null),l," Slices of White Bread (28g)"))},k=Object(l.c)((function(e){return{mass:e.app.mass}}),{})((function(e){var a=e.report,t=e.mass,n=a.nutrients.find((function(e){return"Energy"===e.name})).value*t/100;return r.a.createElement("div",{className:"Analysis"},r.a.createElement(j,{report:a,mass:t}),r.a.createElement(O,{calories:n}))})),N=Object(l.c)((function(e){return{mass:e.app.mass,factor:e.app.mass/100}}),{})((function(e){var a=e.report,t=e.factor,n=function(e,n){return Object(s.f)(a,e,t,n)},l=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,t=arguments.length>2?arguments[2]:void 0;return r.a.createElement("td",{className:"nutTable-left ".concat(!t&&"indent-2")},t?r.a.createElement("strong",null,a," "):a+" ",n(e))},c=function(e){return r.a.createElement("td",{className:"nutTable-right"},function(e){return"".concat(Object(s.i)(e,a,t),"%")}(e))},i=function(e){var a=e.map((function(e){return l(e.name,s.l[e.name],!0)})),t=e.map((function(e){return c(e.name)})),n=Object(o.chunk)(a,2),i=Object(o.chunk)(t,2);return r.a.createElement("table",{className:"nutTable"},r.a.createElement("tbody",null,n.map((function(e,a){return r.a.createElement("tr",{key:a},n[a][0],i[a][0],n[a][1]||r.a.createElement("td",{className:"nutTable-left"}),i[a][1]||r.a.createElement("td",{className:"nutTable-right"}))}))))},m=Object(s.n)(a.nutrients),u=Object(s.j)(m);return r.a.createElement("div",{className:"Report"},r.a.createElement("table",{className:"nutTable"},r.a.createElement("tbody",null,[{label:"Calories",key:"Energy",main:!0},{label:"Total Fat",key:"Total lipid (fat)",main:!0},{label:"Saturated fat",key:"Fatty acids, total saturated",main:!1},{label:"Polyunsaturated fat",key:"Fatty acids, total polyunsaturated",main:!1},{label:"Monounsaturated fat",key:"Fatty acids, total monounsaturated",main:!1},{label:"Water",key:"Water",main:!0},{label:"Cholesterol",key:"Cholesterol",main:!0},{label:"Sodium",key:"Sodium, Na",main:!0},{label:"Potassium",key:"Potassium, K",main:!0},{label:"Total Carbohydrate",key:"Carbohydrate, by difference",main:!0},{label:"Dietary fiber",key:"Fiber, total dietary",main:!1},{label:"Sugar",key:"Sugars, total",main:!1},{label:"Protein",key:"Protein",main:!0}].map((function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(s.g)(a,t)?r.a.createElement("tr",{key:e},l(t,n,i),c(t)):null}(t,e.key,e.label,e.main)})))),u.Vitamins&&i(u.Vitamins),u.Minerals&&i(u.Minerals),u.Other&&i(u.Other))})),F=t(45),R=t(47);function M(){var e=Object(F.a)(["\n        margin-top: 2rem;\n        margin-left: 2rem;\n        border: 8px solid #f06292;\n        border-top: 8px solid transparent; /* Blue */\n        border-radius: 50%;\n        width: 80px;\n        height: 80px;\n        animation: spin 1s linear infinite;\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      "]);return M=function(){return e},e}var P=function(e){return r.a.createElement("div",{className:Object(R.a)(M())},"Loading")},x=t(28),C=function(e){var a=e.match,t=e.report,l=e.getReport,m=e.compareInsert,s=e.setMass,u=e.mass,d=e.loaded,b=Object(o.get)(t,"desc",{}),f=b.name,p=b.ds,v=b.manu,E=b.ndbno,y=a.params.ndbno;Object(n.useEffect)((function(){console.log("ee"),l(y)}),[y,l]);var h=u<25?1:u<100?5:u<500?10:50;return r.a.createElement("div",{className:"ReportPage"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,d?"".concat(f):"Loading report for ndbno ".concat(y),r.a.createElement("button",{onClick:function(){return m(E,u)}},"Compare")),r.a.createElement("div",{className:"descriptor"},d&&r.a.createElement("small",null,[p,v,E].filter((function(e){return e})).join(" \xb7 "))),r.a.createElement(c.a,{to:"/search/",className:"newSearchLink"},"\u2190 New Search"),r.a.createElement(i.a,{min:0,max:1e3,step:h,value:u,onChange:function(e,a){return s(a)},valueLabelFormat:function(e){return"Mass ".concat(e," g")}}))),d?r.a.createElement("div",{className:"ReportPage-container"},r.a.createElement("div",{className:"ReportPage-report"},r.a.createElement(N,{report:t})),r.a.createElement("div",{className:"ReportPage-analysis"},r.a.createElement(k,{report:t}))):r.a.createElement(P,null))},T={getReport:x.e,setMass:x.l,compareInsert:x.b};a.default=Object(l.c)((function(e){return{loaded:!Object(o.isUndefined)(e.app.getReportResult),report:e.app.getReportResult,mass:e.app.mass}}),T)(C)}}]);
//# sourceMappingURL=8.b0592521.chunk.js.map