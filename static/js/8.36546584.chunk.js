(this["webpackJsonpusda-react"]=this["webpackJsonpusda-react"]||[]).push([[8],{522:function(e,a,t){"use strict";t.r(a),t.d(a,"ReportPage",(function(){return L}));var n=t(0),r=t.n(n),l=t(21),c=t(45),o=t(523),i=(t(313),t(24)),s=t(82),u=t(83),m=t(85),d=t(84),p=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.name.split(", ");return r.a.createElement("div",{className:"Breadcrumbs"},a.map((function(a,t,n){return r.a.createElement("span",{key:t},"\xa0/\xa0",r.a.createElement(c.a,{to:{pathname:"/search",search:"?query=".concat(n.slice(0,t+1).join(", "),"&dataSource=").concat(e.props.dataSource)},className:"Breadcrumbs-item"},a))})))}}]),t}(n.Component),b=Object(l.c)((function(e){return{dataSource:e.app.searchDataSource}}),{})(p),f=t(290),h=t(46),v=t(506),y=t.n(v),E=t(507),g=t.n(E),j=t(86),O=t.n(j),k=t(289),N=t.n(k),C=t(508),R=t.n(C),F=function(e){var a=e.report,t=e.mass,n=function(e){return Object(h.e)(a,e)*t/100},l=n("Total lipid (fat)"),c=n("Carbohydrate, by difference"),o=n("Protein"),s=n("Water"),u=t-(l+c+o+s),m=[{name:"Total Fat",value:l},{name:"Total Carbs",value:c},{name:"Protein",value:o},{name:"Water",value:s},{name:"Other",value:u}],d=n("Fatty acids, total saturated"),p=n("Fatty acids, total polyunsaturated"),b=n("Fatty acids, total monounsaturated"),v=l-d-p-b,E=n("Fiber, total dietary"),j=n("Sugars, total"),k=[{name:"Polyunsat. Fat",value:p},{name:"Monounsat. Fat",value:b},{name:"Saturated Fat",value:d},{name:"Other Fats",value:v},{name:"Dietary Fiber",value:E},{name:"Sugar",value:j},{name:"Other Carbs",value:c-E-j},{name:"Protein",value:o},{name:"Water",value:s},{name:"Other",value:u}],C=[[y.a[500],y.a[700],y.a[800],y.a[300]],[g.a[500],g.a[700],g.a[300]],[O.a[700]],[N.a[500]],[R.a[300]]],F=m.map((function(e,a){return{value:e.name,color:C[a][0]}}));return r.a.createElement(f.h,{width:500,height:275},r.a.createElement(f.g,{data:m,dataKey:"value",cx:250,cy:125,innerRadius:30,outerRadius:60,fill:"#8884d8",isAnimationActive:!1},m.map((function(e,a){return r.a.createElement(f.d,{key:a,fill:C[a][0]})}))),r.a.createElement(f.g,{data:k,dataKey:"value",cx:250,cy:125,innerRadius:70,outerRadius:90,fill:"red",labelLine:!1,label:function(e){var a=e.cx,t=e.cy,n=e.midAngle,l=e.innerRadius,c=e.outerRadius,o=e.value,i=e.index,s=e.fill;if(!function(e){return e.percent>.03}(e))return null;var u=Math.PI/180,m=10+l+(c-l),d=a+m*Math.cos(-n*u),p=t+m*Math.sin(-n*u);return o=new Intl.NumberFormat("en-IN",{maximumFractionDigits:1}).format(o),r.a.createElement("text",{x:d,y:p,fill:s,textAnchor:d>a?"start":"end",dominantBaseline:"central"},k[i].name," ",o," g")},isAnimationActive:!1},k.map((function(e,a){return r.a.createElement(f.d,{key:"index",fill:Object(i.flatten)(C)[a]})})),r.a.createElement(f.e,{value:"".concat(t," g"),position:"center"})),r.a.createElement(f.f,{payload:F}))},T=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=Math.round(this.props.calories/105),a=Math.round(this.props.calories/95),t=Math.round(this.props.calories/67),n=Math.round(this.props.calories/350);return r.a.createElement("div",{className:"Comparator"},r.a.createElement("div",{className:"Comparator-header"},r.a.createElement("h2",null,this.props.calories," kcal"),r.a.createElement("br",null),"equal"),r.a.createElement("div",{className:"emoji-comparator"},Object(i.times)(n,(function(e){return"\ud83c\udf79"})),r.a.createElement("br",null),n," Cups of Bubble Tea"),r.a.createElement("div",{className:"emoji-comparator"},Object(i.times)(e,(function(e){return"\ud83c\udf4c"})),r.a.createElement("br",null),e," Medium Bananas (118g)"),r.a.createElement("div",{className:"emoji-comparator"},Object(i.times)(a,(function(e){return"\ud83c\udf4e"})),r.a.createElement("br",null),a," Apples (182g)"),r.a.createElement("div",{className:"emoji-comparator"},Object(i.times)(t,(function(e){return"\ud83c\udf5e"})),r.a.createElement("br",null),t," Slices of White Bread (28g)"))}}]),t}(n.Component),M=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.report.nutrients.find((function(e){return"Energy"===e.name})).value*this.props.mass/100;return r.a.createElement("div",{className:"Analysis"},r.a.createElement(F,{report:this.props.report,mass:this.props.mass}),r.a.createElement(T,{calories:e}))}}]),t}(n.Component),P=Object(l.c)((function(e){return{mass:e.app.mass}}),{})(M),S=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).datum=function(a,t){return Object(h.c)(e.props.report,a,e.props.factor,t)},e.reference=function(a){return"".concat(Object(h.f)(a,e.props.report,e.props.factor),"%")},e.datumCell=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2?arguments[2]:void 0;return r.a.createElement("td",{className:"nutTable-left ".concat(!n&&"indent-2")},n?r.a.createElement("strong",null,t," "):t+" ",e.datum(a))},e.referenceCell=function(a){return r.a.createElement("td",{className:"nutTable-right"},e.reference(a))},e.tableRow=function(a,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(h.d)(e.props.report,t)?r.a.createElement("tr",{key:a},e.datumCell(t,n,l),e.referenceCell(t)):null},e.doubleTable=function(a){var t=a.map((function(a){return e.datumCell(a.name,h.i[a.name],!0)})),n=a.map((function(a){return e.referenceCell(a.name)})),l=Object(i.chunk)(t,2),c=Object(i.chunk)(n,2);return r.a.createElement("table",{className:"nutTable"},r.a.createElement("tbody",null,l.map((function(e,a){return r.a.createElement("tr",{key:a},l[a][0],c[a][0],l[a][1]||r.a.createElement("td",{className:"nutTable-left"}),c[a][1]||r.a.createElement("td",{className:"nutTable-right"}))}))))},e.tableRows=[{label:"Calories",key:"Energy",main:!0},{label:"Total Fat",key:"Total lipid (fat)",main:!0},{label:"Saturated fat",key:"Fatty acids, total saturated",main:!1},{label:"Polyunsaturated fat",key:"Fatty acids, total polyunsaturated",main:!1},{label:"Monounsaturated fat",key:"Fatty acids, total monounsaturated",main:!1},{label:"Water",key:"Water",main:!0},{label:"Cholesterol",key:"Cholesterol",main:!0},{label:"Sodium",key:"Sodium, Na",main:!0},{label:"Potassium",key:"Potassium, K",main:!0},{label:"Total Carbohydrate",key:"Carbohydrate, by difference",main:!0},{label:"Dietary fiber",key:"Fiber, total dietary",main:!1},{label:"Sugar",key:"Sugars, total",main:!1},{label:"Protein",key:"Protein",main:!0}],e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=Object(h.k)(this.props.report.nutrients),t=Object(h.g)(a);return r.a.createElement("div",{className:"Report"},r.a.createElement("table",{className:"nutTable"},r.a.createElement("tbody",null,this.tableRows.map((function(a,t){return e.tableRow(t,a.key,a.label,a.main)})))),t.Vitamins&&this.doubleTable(t.Vitamins),t.Minerals&&this.doubleTable(t.Minerals),t.Other&&this.doubleTable(t.Other))}}]),t}(n.Component),x=Object(l.c)((function(e){return{mass:e.app.mass,factor:e.app.mass/100}}),{})(S),w=t(33),A=t(34);function B(){var e=Object(w.a)(["\n        margin-top: 2rem;\n        margin-left: 2rem;\n        border: 8px solid #f06292;\n        border-top: 8px solid transparent; /* Blue */\n        border-radius: 50%;\n        width: 80px;\n        height: 80px;\n        animation: spin 1s linear infinite;\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      "]);return B=function(){return e},e}var W=function(e){return r.a.createElement("div",{className:Object(A.a)(B())},"Loading")},I=t(12),L=function(e){var a=e.match,t=e.report,l=e.getReport,s=e.compareInsert,u=e.setMass,m=e.mass,d=e.loaded,p=Object(i.get)(t,"desc",{}),f=p.name,h=p.ds,v=p.manu,y=p.ndbno,E=a.params.ndbno;Object(n.useEffect)((function(){console.log("ee"),l(E)}),[E,l]);var g=m<25?1:m<100?5:m<500?10:50;return r.a.createElement("div",{className:"ReportPage"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,d?"".concat(f):"Loading report for ndbno ".concat(E),r.a.createElement("button",{onClick:function(){return s(y,m)}},"Compare")),r.a.createElement("div",{className:"descriptor"},d&&r.a.createElement("small",null,[h,v,y].filter((function(e){return e})).join(" \xb7 "))),d&&r.a.createElement(b,{name:f}),r.a.createElement(c.a,{to:"/search/",className:"newSearchLink"},"\u2190 New Search"),r.a.createElement(o.a,{min:0,max:1e3,step:g,value:m,onChange:function(e,a){return u(a)},valueLabelFormat:function(e){return"Mass ".concat(e," g")}}))),d?r.a.createElement("div",{className:"ReportPage-container"},r.a.createElement("div",{className:"ReportPage-report"},r.a.createElement(x,{report:t})),r.a.createElement("div",{className:"ReportPage-analysis"},r.a.createElement(P,{report:t}))):r.a.createElement(W,null))},D={getReport:I.e,setMass:I.l,compareInsert:I.b};a.default=Object(l.c)((function(e){return{loaded:!Object(i.isUndefined)(e.app.getReportResult),report:e.app.getReportResult,mass:e.app.mass}}),D)(L)}}]);
//# sourceMappingURL=8.36546584.chunk.js.map