(this["webpackJsonpusda-react"]=this["webpackJsonpusda-react"]||[]).push([[1],{118:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),c=n(76),o=n(57),u=n(164),i=n(119),l=n(95),s=n(128),d=n(129),m=n(131);n(156);t.a=Object(c.hot)(e)((function(){return r.a.createElement(o.a,{history:l.b,basename:"/usda-frontend"},r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{theme:i.a},r.a.createElement(s.a,null),r.a.createElement(d.a,null),m.a)))}))}).call(this,n(111)(e))},119:function(e,t,n){"use strict";var a=n(100),r=n(102),c=n.n(r),o=n(112),u=n.n(o),i=n(113),l=n.n(i),s=n(123),d=n.n(s),m=Object(a.a)({palette:{primary:c.a,secondary:u.a},status:{error:l.a,danger:d.a}});t.a=m},128:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(11),o=n(161),u=n(163),i=n(68);t.a=function(){var e=Object(c.f)().pathname;return/^\/$/.test(e)||/^\/search/.test(e)?null:r.a.createElement(o.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(i.a,{color:"white"})))}},129:function(e,t,n){"use strict";var a=n(7),r=n(46),c=n(45),o=n(0),u=n.n(o),i=n(34),l=n(47),s=n(11),d=n(54),m=n(25),f=n(28);function p(){var e=Object(c.a)(["\n                    max-width: 200px;\n                    text-overflow: ellipsis;\n                    overflow: hidden;\n                    white-space: nowrap;\n                  "]);return p=function(){return e},e}function b(){var e=Object(c.a)(["\n            display: ",";\n            margin: 0;\n            margin-top: 0.5rem;\n            padding: 0.5rem;\n          "]);return b=function(){return e},e}function O(){var e=Object(c.a)(["\n              margin: 0;\n            "]);return O=function(){return e},e}function j(){var e=Object(c.a)(["\n            display: flex;\n            justify-content: space-between;\n            background-color: #eaeaea;\n            padding: 0.5rem;\n          "]);return j=function(){return e},e}function h(){var e=Object(c.a)(["\n          display: ",";\n          position: fixed;\n          bottom: 0;\n          right: 5rem;\n          border: 1px solid black;\n          border-bottom: none;\n          background-color: white;\n          min-width: 300px;\n        "]);return h=function(){return e},e}function E(){var e=Object(c.a)(["\n      display: flex;\n      justify-content: space-between;\n      padding: 0.5rem;\n    "]);return E=function(){return e},e}var y=function(e){return u.a.createElement("div",Object.assign({className:Object(l.a)(E())},e))},g=Object(s.g)((function(e){var t=e.compare,n=e.compareClear,a=e.compareRemove,c=e.location,i=t.length>0&&"/compare"!==c.pathname,s=Object(o.useState)(!0),f=Object(r.a)(s,2),E=f[0],g=f[1],v=Object(m.map)(t,"ndbno").join(",");return u.a.createElement("div",{className:Object(l.a)(h(),i?"initial":"none")},u.a.createElement("div",{className:Object(l.a)(j()),onClick:function(){return g(!E)}},u.a.createElement("h3",{className:Object(l.a)(O())},"Collection ",u.a.createElement("small",null,"(",t.length,")")),E?" \ud83d\udd3c":" \ud83d\udd3d"),u.a.createElement("table",{className:Object(l.a)(b(),E?"visible":"none")},u.a.createElement("tbody",null,t.map((function(e){return u.a.createElement("tr",{key:e.ndbno},u.a.createElement("td",{className:Object(l.a)(p()),title:e.report?e.report.desc.name:e.ndbno},u.a.createElement(d.a,{to:"/report/".concat(e.ndbno)},e.report?e.report.desc.name:e.fallbackName)),u.a.createElement("td",null,e.amount," g"),u.a.createElement("td",null,u.a.createElement("button",{onClick:function(){return a(e.ndbno)}},"X")))})))),u.a.createElement(y,{style:{display:E?"flex":"none"}},u.a.createElement("button",{onClick:n},"Clear Collection"),u.a.createElement(d.a,{to:"/compare?ids=".concat(v)},"Go to Collection")))})),v={compareClear:f.a,compareRemove:f.c};t.a=Object(i.c)((function(e){return{compare:e.app.compare.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{report:e.app.reports[t.ndbno]})}))}}),v)(g)},131:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(11),o=function(){return r.a.createElement("div",null,"Loading...")},u=n(46),i=n(34),l=n(20),s=n(25),d=n(193),m=n(197),f=n(68),p=n(38),b=n(194),O=n(203),j=n(200),h=n(192),E=n(198),y=function(e){var t=e.query,n=e.setQuery,a=e.dataSource,c=e.setDataSource;return r.a.createElement(m.a,{display:"flex",flexDirection:"column"},r.a.createElement(b.a,{variant:"outlined",value:t,onChange:function(e){n(e.target.value)},autoFocus:!0}),r.a.createElement(O.a,{component:"fieldset",hiddenLabel:!0},r.a.createElement(j.a,{row:!0,"aria-label":"Data Source",name:"dataSource",value:a,onChange:function(e){c(e.target.value)}},p.a.map((function(e){return r.a.createElement(h.a,{value:e,control:r.a.createElement(E.a,null),label:Object(p.e)(e)})})))))},g=n(28),v=r.a.lazy((function(){return n.e(5).then(n.bind(null,569))})),R=p.b.STANDARD,S={setQuery:g.m,setDataSource:g.k,search:g.h,push:l.d},D=Object(i.c)((function(e){return{searching:e.app.searching,query:e.app.searchQuery,dataSource:e.app.searchDataSource,result:e.app.searchResult,error:e.app.searchError}}),S)((function(e){var t=e.push,n=e.location,c=e.search,i=e.searching,l=e.error,b=e.result,O=Object(a.useMemo)((function(){return new URLSearchParams(n.search)}),[n.search]),j=Object(a.useState)(O.has("query")?decodeURIComponent(O.get("query")):""),h=Object(u.a)(j,2),E=h[0],g=h[1],S=Object(a.useState)(O.has("dataSource")?Object(p.c)(decodeURIComponent(O.get("dataSource"))):R),D=Object(u.a)(S,2),A=D[0],C=D[1],N=function(e,t){var n=Object(a.useState)(e),r=Object(u.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),c}(E,200);Object(a.useEffect)((function(){O.has("query")||g(""),O.has("dataSource")||C(R)}),[O]),Object(a.useEffect)((function(){!i&&Object(s.get)(b,"list.item.length",0)>0&&t("?query=".concat(Object(s.get)(b,"list.q"),"&dataSource=").concat(Object(s.get)(b,"list.ds")))}),[t,b,i]),Object(a.useEffect)((function(){N&&N.trim().length>0&&c(N,A)}),[N,A,c]);var T=r.a.createElement(y,{query:E,setQuery:g,dataSource:A,setDataSource:C});return""!==E?r.a.createElement(d.a,null,r.a.createElement(m.a,{mt:4,mb:2},r.a.createElement(f.a,null)),T,r.a.createElement("hr",null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(o,null)},r.a.createElement(v,{searching:i,result:b,error:l,query:N,dataSource:A}))):r.a.createElement(d.a,{maxWidth:"sm"},r.a.createElement(m.a,{height:"100vh",display:"flex",justifyContent:"center",flexDirection:"column"},r.a.createElement(m.a,{mt:-10,mb:3,textAlign:"center"},r.a.createElement(f.a,{variant:"h3"})),T))})),A=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6),n.e(8)]).then(n.bind(null,567))})),C=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,568))})),N=r.a.createElement(a.Suspense,{fallback:r.a.createElement(o,null)},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:D}),r.a.createElement(c.a,{path:"/search",exact:!0,component:D}),r.a.createElement(c.a,{path:"/report/:ndbno",component:A}),r.a.createElement(c.a,{path:"/compare",exact:!0,component:C})));t.a=N},145:function(e,t,n){e.exports=n(157)},151:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var a=n(76);Object(a.setConfig)({reloadHooks:!1,logLevel:"log"});var r=n(0),c=n.n(r),o=n(14),u=n.n(o),i=(n(151),n(118));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(95),s=n(34),d=Object(l.a)();"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),u.a.render(c.a.createElement(s.a,{store:d},c.a.createElement(i.a,null)),document.getElementById("root"))},28:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return O}));var a=n(9),r=function(e){return{type:a.m,payload:e}},c=function(e){return{type:a.k,payload:e}},o=function(e,t){return{type:a.h,payload:{query:e,dataSource:t}}},u=function(e){return{type:a.i,payload:e}},i=function(e){return{type:a.j,payload:e}},l=function(e){return{type:a.e,payload:e}},s=function(e){return{type:a.f,payload:e}},d=function(e){return{type:a.g,payload:e}},m=function(e){return{type:a.l,payload:e}},f=function(e){return{type:a.c,payload:e}},p=function(e,t,n){return{type:a.d,payload:{ndbno:e,amount:t,fallbackName:n}}},b=function(e){return{type:a.b,payload:e}},O=function(){return{type:a.a}}},38:function(e,t,n){"use strict";n.d(t,"n",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return E})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"f",(function(){return R})),n.d(t,"i",(function(){return S}));var a,r=n(7),c=n(29),o=n(25),u=["Proximates","Lipids","Vitamins","Minerals","Other"],i=function(e){return e.sort(l)},l=function(e,t){return u.indexOf(e.group)-u.indexOf(t.group)},s=function(e){return u.indexOf(e.group)},d=function(e){return Object(o.groupBy)(e,"group")},m={ANY:"ANY",STANDARD:"STANDARD",BRANDED:"BRANDED"},f=(a={},Object(c.a)(a,m.ANY,"Any"),Object(c.a)(a,m.STANDARD,"Standard Reference"),Object(c.a)(a,m.BRANDED,"Branded Food Products"),a),p=function(e){return{any:m.ANY,"Standard Reference":m.STANDARD,"Branded Food Products":m.BRANDED}[decodeURIComponent(e)]},b=function(e){var t;return encodeURIComponent((t={},Object(c.a)(t,m.ANY,""),Object(c.a)(t,m.STANDARD,"Standard Reference"),Object(c.a)(t,m.BRANDED,"Branded Food Products"),t)[e])},O=Object.values(m),j=function(e){return f[e]},h=function(e,t){return Object(o.find)(e.nutrients,{name:t})},E=function(e,t){return Number(h(e,t)?h(e,t).value:void 0)},y=function(e){return Object(r.a)(Object(r.a)({},e),{},{nutrients:e.nutrients.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},t.name,t))}),{})})},g={Energy:2e3,"Total lipid (fat)":67,"Fatty acids, total saturated":20,Cholesterol:300,"Carbohydrate, by difference":300,"Fiber, total dietary":25,Protein:50,"Vitamin C, total ascorbic acid":60,"Vitamin B-6":1.2,"Vitamin B-12":6,"Vitamin E (alpha-tocopherol)":15,"Vitamin K (phylloquinone)":120,Riboflavin:1.1,Thiamin:1.1,Niacin:14,"Folate, DFE":400,"Vitamin A, RAE":600,"Vitamin D":800,"Vitamin D (D2 + D3)":20,"Calcium, Ca":1e3,"Iron, Fe":19,"Magnesium, Mg":420,"Phosphorus, P":700,"Sodium, Na":2400,"Potassium, K":3533,"Zinc, Zn":8},v={"Vitamin C, total ascorbic acid":"Vitamin C","Vitamin B-6":"Vitamin B6","Vitamin B-12":"Vitamin B12","Vitamin E (alpha-tocopherol)":"Vitamin E","Vitamin K (phylloquinone)":"Vitamin E","Calcium, Ca":"Calcium","Iron, Fe":"Iron","Magnesium, Mg":"Magnesium","Phosphorus, P":"Phosphorus","Potassium, K":"Potassium","Sodium, Na":"Sodium","Zinc, Zn":"Zinc"},R=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=h(e,t);return r?"".concat(Object(o.round)(Number(r.value*n),a)," ").concat(r.unit):null},S=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=h(t,e);return g[e]&&r?Object(o.round)(r.value*n/g[e]*100,a):void 0}},68:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(54),o=n(5),u=n(101),i=n(160);t.a=function(e){var t=e.color,n=e.variant,a=Object(o.a)({root:{color:{white:"white",primary:void 0}[t]}})(u.a);return r.a.createElement(i.a,{component:c.a,to:"/search"},r.a.createElement(a,{variant:n||"h5"},"USDA Search"))}},9:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var a="SET_QUERY",r="SET_DATA_SOURCE",c="SEARCH",o="SEARCH_FULFILLED",u="SEARCH_REJECTED",i="GET_REPORT",l="GET_REPORT_FULFILLED",s="GET_REPORT_REJECTED",d="SET_MASS",m="COMPARE_SET",f="COMPARE_UPSERT",p="COMPARE_REMOVE",b="COMPARE_CLEAR"},95:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return w}));var a=n(42),r=n(196),c=n(23),o=n(114),u=n(117),i=n(29),l=n(7),s=n(9),d=n(57),m=n(25),f={searching:!1,searchQuery:"",searchDataSource:"STANDARD_REFERENCE",mass:100,reports:{},compare:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(console.log(n,a),n){case s.m:return Object(l.a)(Object(l.a)({},e),{},{searchQuery:a,searchResult:void 0,searchError:void 0});case s.k:return Object(l.a)(Object(l.a)({},e),{},{searchDataSource:a,searchResult:void 0,searchError:void 0});case s.h:return Object(l.a)(Object(l.a)({},e),{},{searching:!0,searchResult:void 0,searchError:void 0});case s.i:return Object(l.a)(Object(l.a)({},e),{},{searchResult:a,searching:!1});case s.j:return Object(l.a)(Object(l.a)({},e),{},{searchError:a,searching:!1});case s.e:return Object(l.a)(Object(l.a)({},e),{},{getReportNDBNO:a,gettingReport:!0,getReportResult:void 0,getReportError:void 0});case s.f:return Object(l.a)(Object(l.a)({},e),{},{getReportResult:a,gettingReport:!1,getReportNDBNO:void 0,reports:Object(l.a)(Object(l.a)({},e.reports),{},Object(i.a)({},a.desc.ndbno,a))});case s.g:return Object(l.a)(Object(l.a)({},e),{},{getReportError:a,gettingReport:!1,getReportNDBNO:void 0});case s.l:return Object(l.a)(Object(l.a)({},e),{},{mass:a});case s.c:return Object(l.a)(Object(l.a)({},e),{},{compare:a});case s.d:return Object(l.a)(Object(l.a)({},e),{},{compare:Object(m.uniqBy)([a].concat(Object(u.a)(e.compare)),"ndbno")});case s.b:return Object(l.a)(Object(l.a)({},e),{},{compare:e.compare.filter((function(e){return e.ndbno!==a}))});case s.a:return Object(l.a)(Object(l.a)({},e),{},{compare:f.compare});default:return e}},b=n(125),O=n(199),j=n(127),h=n(202),E=n(201),y=n(159),g=n(204),v=n(126),R=n(86),S=n(189),D=n(28),A=n(38),C="FYTSTF75mesLeO85VFSKvqgWEzdL0hQAYCZUtjJk",N=Object(O.a)((function(e,t){return e.pipe(Object(b.a)(s.h),Object(E.a)(500),Object(y.a)((function(e){return""!==e.payload.query})),Object(g.a)(console.log(t.value)),Object(v.a)((function(e){return h.a.getJSON("https://api.nal.usda.gov/ndb/search?api_key=".concat(C,"&q=").concat(encodeURIComponent(e.payload.query),"&ds=").concat(Object(A.d)(e.payload.dataSource))).pipe(Object(R.a)((function(e){return e.errors?Object(D.j)(e):Object(D.i)(e)})),Object(S.a)((function(e){return Object(j.a)({type:s.j,payload:e.xhr.response,error:!0})})))})))}),(function(e){return e.pipe(Object(b.a)(s.e),Object(E.a)(500),Object(v.a)((function(e){return h.a.getJSON("https://api.nal.usda.gov/ndb/V2/reports?api_key=".concat(C,"&ndbno=").concat(encodeURIComponent(e.payload))).pipe(Object(R.a)((function(e){return e.foods[0].error?Object(D.g)(e):Object(D.f)(e.foods[0].food)})),Object(S.a)((function(e){return Object(j.a)({type:s.g,payload:e.xhr.response,error:!0})})))})))})),T=Object(r.a)(),k=Object(c.a)({basename:"/usda-frontend/"});function w(e){var t,n=Object(a.e)((t=k,Object(a.c)({router:Object(d.b)(t),app:p})),e,Object(a.d)(Object(a.a)(Object(o.a)(k),T),(window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e})));return T.run(N),n}}},[[145,2,3]]]);
//# sourceMappingURL=main.2bc21dd8.chunk.js.map