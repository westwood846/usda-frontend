(this["webpackJsonpusda-react"]=this["webpackJsonpusda-react"]||[]).push([[0],{249:function(e,t,a){e.exports=a(450)},254:function(e,t,a){},259:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(59),o=a.n(c),s=(a(254),a(12)),i=a(13),l=a(15),u=a(14),p=a(16),m=a(27),d=(a(259),a(50)),b=a(19),h=a(8),f=a(26),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"SearchResultItem"},n.a.createElement(f.a,{to:"/report/".concat(this.props.item.ndbno)},n.a.createElement("h3",null,this.props.item.name)),n.a.createElement("div",{className:"SearchResultItem-meta"},n.a.createElement("span",{className:"SearchResultItem-metaDescriptor"},n.a.createElement("strong",null,"ndbno: "),this.props.item.ndbno),n.a.createElement("span",{className:"SearchResultItem-metaDescriptor"},n.a.createElement("strong",null,"Manufacturer: "),this.props.item.manu),n.a.createElement("span",{className:"SearchResultItem-metaDescriptor"},n.a.createElement("strong",null,"Data Source: "),this.props.item.ds)))}}]),a}(r.Component),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleItemClick=function(e){r.props.push("/report/".concat(e.target.value))},r.handleItemClick=r.handleItemClick.bind(Object(d.a)(r)),r}return Object(i.a)(a,[{key:"render",value:function(){var e=Object(h.sortBy)(this.props.result.list.item,"name"),t=this.props.result.list.q,a=this.props.result.list.ds,r=this.props.result.list.start+1,c=Number(this.props.result.list.end),o=this.props.result.list.total;return n.a.createElement("div",{className:"SearchResult"},n.a.createElement("div",{className:"descriptor"},'Result for "',t,'" in "',a,'" (',r," to ",c," of ",o,"):"),n.a.createElement("ul",null,e.map((function(e,t){return n.a.createElement("li",{key:t},n.a.createElement(E,{item:e}))}))))}}]),a}(r.Component),j={push:b.d},v=Object(p.c)((function(e){return{}}),j)(O),y=function(e){return{type:"SET_QUERY",payload:e}},g=function(e){return{type:"SET_DATA_SOURCE",payload:e}},R=function(){return{type:"SEARCH"}},C=function(e){return{type:"GET_REPORT",payload:e}},S=function(e,t){return{type:"COMPARE_UPSERT",payload:{ndbno:e,amount:t}}},N=a(60),D=a(6),T=["Proximates","Lipids","Vitamins","Minerals","Other"],k=function(e,t){return T.indexOf(e.group)-T.indexOf(t.group)},_=function(e){return T.indexOf(e.group)},P={BOTH:"Any",STANDARD_REFERENCE:"Standard Reference",BRANDED_FOOD_PRODUCTS:"Branded Food Products"},A=Object.keys(P),F=function(e){return P[e]},V=function(e,t){return Object(h.find)(e.nutrients,{name:t})},I=function(e,t){return Number(V(e,t)?V(e,t).value:void 0)},w=function(e){return Object(D.a)(Object(D.a)({},e),{},{nutrients:e.nutrients.reduce((function(e,t){return Object(D.a)(Object(D.a)({},e),{},Object(N.a)({},t.name,t))}),{})})},M={Energy:2e3,"Total lipid (fat)":67,"Fatty acids, total saturated":20,Cholesterol:300,"Carbohydrate, by difference":300,"Fiber, total dietary":25,Protein:50,"Vitamin C, total ascorbic acid":60,"Vitamin B-6":1.2,"Vitamin B-12":6,"Vitamin E (alpha-tocopherol)":15,"Vitamin K (phylloquinone)":120,Riboflavin:1.1,Thiamin:1.1,Niacin:14,"Folate, DFE":400,"Vitamin A, RAE":600,"Vitamin D":800,"Vitamin D (D2 + D3)":20,"Calcium, Ca":1e3,"Iron, Fe":19,"Magnesium, Mg":420,"Phosphorus, P":700,"Sodium, Na":2400,"Potassium, K":3533,"Zinc, Zn":8},x={"Vitamin C, total ascorbic acid":"Vitamin C","Vitamin B-6":"Vitamin B6","Vitamin B-12":"Vitamin B12","Vitamin E (alpha-tocopherol)":"Vitamin E","Vitamin K (phylloquinone)":"Vitamin E","Calcium, Ca":"Calcium","Iron, Fe":"Iron","Magnesium, Mg":"Magnesium","Phosphorus, P":"Phosphorus","Potassium, K":"Potassium","Sodium, Na":"Sodium","Zinc, Zn":"Zinc"},B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).stringifyState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props.searchQuery,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.searchDataSource;return"?query=".concat(e,"&dataSource=").concat(t)},r.handleInputChange=function(e){r.props.setQuery(e.target.value),r.props.push(r.stringifyState(e.target.value)),r.props.searchQuery&&r.props.search()},r.handleDataSourceChange=function(e){r.props.setDataSource(e.target.value),r.props.push(r.stringifyState(void 0,e.target.value)),r.props.searchQuery&&r.props.search()},r.handleInputChange=r.handleInputChange.bind(Object(d.a)(r)),r.handleDataSourceChange=r.handleDataSourceChange.bind(Object(d.a)(r)),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"SearchBar"},n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:"queryInput",value:this.props.searchQuery,onChange:this.handleInputChange,autoFocus:!0})),n.a.createElement("br",null),"Data Source:\xa0",A.map((function(t){return n.a.createElement("label",{className:"dataSourceInputLabel",key:t},n.a.createElement("input",{type:"radio",className:"dataSourceInput",value:t,checked:e.props.searchDataSource===t,onChange:e.handleDataSourceChange}),F(t))})))}}]),a}(r.Component),L={setQuery:y,setDataSource:g,search:R,push:b.d},U=Object(p.c)((function(e){return{searchQuery:e.app.searchQuery,searchDataSource:e.app.searchDataSource}}),L)(B),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"Logo"},n.a.createElement(f.a,{to:"/search"},n.a.createElement("h1",null,"USDA")))}}]),a}(r.Component),q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;Object(s.a)(this,a),r=t.call(this,e);var n=new URLSearchParams(window.location.search);return n.has("dataSource")&&n.get("dataSource")!==r.props.dataSource&&r.props.setDataSource(n.get("dataSource")),n.has("query")?n.get("query")!==r.props.query&&(r.props.setQuery(n.get("query")),r.props.search()):r.props.setQuery(""),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.searching?n.a.createElement("span",null,'Searching for "',this.props.query,'" in'," ",F(this.props.dataSource),"..."):this.props.error?this.props.error.errors.error.map((function(e,t){return n.a.createElement("div",{key:t,style:{color:"red"}},e.message)})):this.props.result?n.a.createElement(v,{result:this.props.result}):null;return n.a.createElement("div",{className:"SearchPage"},n.a.createElement("div",{className:"header"},n.a.createElement(Q,null),n.a.createElement(U,null)),n.a.createElement("hr",null),n.a.createElement("div",{className:"ResultContainer"},e))}}]),a}(r.Component),J={setQuery:y,setDataSource:g,search:R},H=Object(p.c)((function(e){return{searching:e.app.searching,query:e.app.searchQuery,dataSource:e.app.searchDataSource,result:e.app.searchResult,error:e.app.searchError}}),J)(q),G=a(201),W=a.n(G),K=(a(276),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.name.split(", ");return n.a.createElement("div",{className:"Breadcrumbs"},t.map((function(t,a,r){return n.a.createElement("span",{key:a},"\xa0/\xa0",n.a.createElement(f.a,{to:{pathname:"/search",search:"?query=".concat(r.slice(0,a+1).join(", "),"&dataSource=").concat(e.props.dataSource)},className:"Breadcrumbs-item"},t))})))}}]),a}(r.Component)),Z=Object(p.c)((function(e){return{dataSource:e.app.searchDataSource}}),{})(K),X=a(46),Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getValue=function(t){return I(e.props.report,t)*e.props.mass/100},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.getValue("Total lipid (fat)"),t=this.getValue("Carbohydrate, by difference"),a=this.getValue("Protein"),r=this.getValue("Water"),c=this.props.mass-(e+t+a+r),o=[{name:"Total Fat",value:e},{name:"Total Carbs",value:t},{name:"Protein",value:a},{name:"Water",value:r},{name:"Other",value:c}],s=this.getValue("Fatty acids, total saturated"),i=this.getValue("Fatty acids, total polyunsaturated"),l=this.getValue("Fatty acids, total monounsaturated"),u=e-s-i-l,p=this.getValue("Fiber, total dietary"),m=this.getValue("Sugars, total"),d=[{name:"Polyunsat. Fat",value:i},{name:"Monounsat. Fat",value:l},{name:"Saturated Fat",value:s},{name:"Other Fats",value:u},{name:"Dietary Fiber",value:p},{name:"Sugar",value:m},{name:"Other Carbs",value:t-p-m},{name:"Protein",value:a},{name:"Water",value:r},{name:"Other",value:c}],b=[["#ffeb3b","#fdd835","#fbc02d","#f9a825"],["#aed581","#8bc34a","#689f38"],["#f06292"],["#2196f3"],["#e0e0e0"]],f=o.map((function(e,t){return{value:e.name,color:b[t][0]}}));return n.a.createElement(X.e,{width:500,height:275},n.a.createElement(X.d,{data:o,dataKey:"value",cx:250,cy:125,innerRadius:30,outerRadius:60,fill:"#8884d8",isAnimationActive:!1},o.map((function(e,t){return n.a.createElement(X.a,{key:t,fill:b[t][0]})}))),n.a.createElement(X.d,{data:d,dataKey:"value",cx:250,cy:125,innerRadius:70,outerRadius:90,fill:"red",labelLine:!1,label:function(e){var t=e.cx,a=e.cy,r=e.midAngle,c=e.innerRadius,o=e.outerRadius,s=e.value,i=e.index,l=e.fill;if(!function(e){return e.percent>.03}(e))return null;var u=Math.PI/180,p=10+c+(o-c),m=t+p*Math.cos(-r*u),b=a+p*Math.sin(-r*u);return s=new Intl.NumberFormat("en-IN",{maximumFractionDigits:1}).format(s),n.a.createElement("text",{x:m,y:b,fill:l,textAnchor:m>t?"start":"end",dominantBaseline:"central"},d[i].name," ",s," g")},isAnimationActive:!1},d.map((function(e,t){return n.a.createElement(X.a,{key:"index",fill:Object(h.flatten)(b)[t]})})),n.a.createElement(X.b,{value:"".concat(this.props.mass," g"),position:"center"})),n.a.createElement(X.c,{payload:f}))}}]),a}(r.PureComponent),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=Math.round(this.props.calories/105),t=Math.round(this.props.calories/95),a=Math.round(this.props.calories/67),r=Math.round(this.props.calories/350);return n.a.createElement("div",{className:"Comparator"},n.a.createElement("div",{className:"Comparator-header"},n.a.createElement("h2",null,this.props.calories," kcal"),n.a.createElement("br",null),"equal"),n.a.createElement("div",{className:"emoji-comparator"},Object(h.times)(r,(function(e){return"\ud83c\udf79"})),n.a.createElement("br",null),r," Cups of Bubble Tea"),n.a.createElement("div",{className:"emoji-comparator"},Object(h.times)(e,(function(e){return"\ud83c\udf4c"})),n.a.createElement("br",null),e," Medium Bananas (118g)"),n.a.createElement("div",{className:"emoji-comparator"},Object(h.times)(t,(function(e){return"\ud83c\udf4e"})),n.a.createElement("br",null),t," Apples (182g)"),n.a.createElement("div",{className:"emoji-comparator"},Object(h.times)(a,(function(e){return"\ud83c\udf5e"})),n.a.createElement("br",null),a," Slices of White Bread (28g)"))}}]),a}(r.Component),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.report.nutrients.find((function(e){return"Energy"===e.name})).value*this.props.mass/100;return n.a.createElement("div",{className:"Analysis"},n.a.createElement(Y,{report:this.props.report,mass:this.props.mass}),n.a.createElement(z,{calories:e}))}}]),a}(r.Component),ee=Object(p.c)((function(e){return{mass:e.app.mass}}),{})($),te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).datum=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=V(e.props.report,t);return r?"".concat(Number(r.value*e.props.factor).toFixed(a)," ").concat(r.unit):null},e.reference=function(t){return M[t]?"".concat(Math.round(V(e.props.report,t).value*e.props.factor/M[t]*100)," %"):null},e.datumCell=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2?arguments[2]:void 0;return n.a.createElement("td",{className:"nutTable-left ".concat(!r&&"indent-2")},r?n.a.createElement("strong",null,a," "):a+" ",e.datum(t))},e.referenceCell=function(t){return n.a.createElement("td",{className:"nutTable-right"},e.reference(t))},e.tableRow=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return V(e.props.report,a)?n.a.createElement("tr",{key:t},e.datumCell(a,r,c),e.referenceCell(a)):null},e.doubleTable=function(t){var a=t.map((function(t){return e.datumCell(t.name,x[t.name],!0)})),r=t.map((function(t){return e.referenceCell(t.name)})),c=Object(h.chunk)(a,2),o=Object(h.chunk)(r,2);return n.a.createElement("table",{className:"nutTable"},n.a.createElement("tbody",null,c.map((function(e,t){return n.a.createElement("tr",{key:t},c[t][0],o[t][0],c[t][1]||n.a.createElement("td",{className:"nutTable-left"}),o[t][1]||n.a.createElement("td",{className:"nutTable-right"}))}))))},e.tableRows=[{label:"Calories",key:"Energy",main:!0},{label:"Total Fat",key:"Total lipid (fat)",main:!0},{label:"Saturated fat",key:"Fatty acids, total saturated",main:!1},{label:"Polyunsaturated fat",key:"Fatty acids, total polyunsaturated",main:!1},{label:"Monounsaturated fat",key:"Fatty acids, total monounsaturated",main:!1},{label:"Water",key:"Water",main:!0},{label:"Cholesterol",key:"Cholesterol",main:!0},{label:"Sodium",key:"Sodium, Na",main:!0},{label:"Potassium",key:"Potassium, K",main:!0},{label:"Total Carbohydrate",key:"Carbohydrate, by difference",main:!0},{label:"Dietary fiber",key:"Fiber, total dietary",main:!1},{label:"Sugar",key:"Sugars, total",main:!1},{label:"Protein",key:"Protein",main:!0}],e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=function(e){return Object(h.groupBy)(e,"group")}(function(e){return e.sort(k)}(this.props.report.nutrients));return n.a.createElement("div",{className:"Report"},n.a.createElement("table",{className:"nutTable"},n.a.createElement("tbody",null,this.tableRows.map((function(t,a){return e.tableRow(a,t.key,t.label,t.main)})))),t.Vitamins&&this.doubleTable(t.Vitamins),t.Minerals&&this.doubleTable(t.Minerals),t.Other&&this.doubleTable(t.Other))}}]),a}(r.Component),ae=Object(p.c)((function(e){return{mass:e.app.mass,factor:e.app.mass/100}}),{})(te),re=a(29),ne=a(30);function ce(){var e=Object(re.a)(["\n        margin-top: 2rem;\n        margin-left: 2rem;\n        border: 8px solid #f06292;\n        border-top: 8px solid transparent; /* Blue */\n        border-radius: 50%;\n        width: 80px;\n        height: 80px;\n        animation: spin 1s linear infinite;\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      "]);return ce=function(){return e},e}var oe=function(e){return n.a.createElement("div",{className:Object(ne.a)(ce())},"Loading")},se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).sliderPrecision=function(e){return e<25?1:e<100?5:e<500?10:50},r.urlNDBNO=r.props.match.params.ndbno,r.props.getReport(r.urlNDBNO),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.compareInsert,a=e.ndbno,r=e.mass;return n.a.createElement("div",{className:"ReportPage"},n.a.createElement("div",{className:"header"},n.a.createElement("div",null,n.a.createElement("h1",null,this.props.loaded?"".concat(this.props.name):"Loading report for ndbno ".concat(this.urlNDBNO),n.a.createElement("button",{onClick:function(){return t(a,r)}},"Compare")),n.a.createElement("div",{className:"descriptor"},this.props.loaded&&n.a.createElement("small",null,[this.props.ds,this.props.manu,this.props.ndbno].filter((function(e){return e})).join(" \xb7 "))),this.props.loaded&&n.a.createElement(Z,{name:this.props.name}),n.a.createElement(f.a,{to:"/search/",className:"newSearchLink"},"\u2190 New Search"),n.a.createElement(W.a,{className:"massInput",minValue:0,maxValue:1e3,step:this.sliderPrecision(this.props.mass),value:this.props.mass,onChange:this.props.setMass,formatLabel:function(e){return"Mass ".concat(e," g")}}))),this.props.loaded?n.a.createElement("div",{className:"ReportPage-container"},n.a.createElement("div",{className:"ReportPage-report"},n.a.createElement(ae,{report:this.props.report})),n.a.createElement("div",{className:"ReportPage-analysis"},n.a.createElement(ee,{report:this.props.report}))):n.a.createElement(oe,null))}}]),a}(r.Component),ie={getReport:C,setMass:function(e){return{type:"SET_MASS",payload:e}},compareInsert:S},le=Object(p.c)((function(e){return{loaded:!Object(h.isUndefined)(e.app.getReportResult),report:e.app.getReportResult,name:Object(h.get)(e.app.getReportResult,"desc.name"),ds:Object(h.get)(e.app.getReportResult,"desc.ds"),manu:Object(h.get)(e.app.getReportResult,"desc.manu"),ndbno:Object(h.get)(e.app.getReportResult,"desc.ndbno"),mass:e.app.mass}}),ie)(se),ue=a(108),pe=a(143),me=a(213),de=a.n(me),be=a(142),he=function(e){return e.app.reports},fe=Object(be.a)([he],Object.keys),Ee=(Object(be.a)([he],Object.values),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={error:null},r}return Object(i.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("code",null,"error in subtree"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),a}(n.a.Component));function Oe(){var e=Object(re.a)(["\n        padding: 2rem 1rem;\n      "]);return Oe=function(){return e},e}var je=[{name:"Name",selector:"desc.name",sortable:!0,compact:!0},{name:"ndbno",selector:"desc.ndbno",sortable:!0,compact:!0}],ve={getReport:C,compareSet:function(e){return{type:"COMPARE_SET",payload:e}}},ye=Object(p.c)((function(e){console.log({location:e.router.location});var t=new URLSearchParams(Object(h.get)(e,"router.location.search","")).get("ids"),a=t?t.split(","):[];return{cachedIds:fe(e),ids:a,reports:Object.values(Object(h.pick)(he(e),a)).map(w)}}),ve)(Object(m.f)((function(e){var t=e.ids,a=e.cachedIds,c=e.reports,o=e.getReport,s=e.compareSet;console.log({ids:t}),Object(pe.a)((function(){Object(h.difference)(t,a).forEach(o)}),[t,a,o]),Object(pe.a)((function(){s(t.map((function(e){return{ndbno:e,amount:100}})))}),[t,s]);var i=Object(r.useMemo)((function(){var e=Object(h.chain)(c).map("nutrients").flatMap(Object.values).sortBy(_).map("name").uniq().map((function(e){return{name:e,selector:function(t){return Object(h.get)(t,"nutrients.".concat(e,".value"),"-")},sortable:!0,compact:!0}})).value();return[].concat(je,Object(ue.a)(e))}),[c]);return n.a.createElement("div",{className:Object(ne.a)(Oe())},n.a.createElement(Q,null),n.a.createElement(Ee,null,n.a.createElement(de.a,{columns:i,data:c,title:"Reports",responsive:!0,dense:!0})))}))),ge=a(219);function Re(){var e=Object(re.a)(["\n                    max-width: 200px;\n                    text-overflow: ellipsis;\n                    overflow: hidden;\n                    white-space: nowrap;\n                  "]);return Re=function(){return e},e}function Ce(){var e=Object(re.a)(["\n            display: ",";\n            margin: 0;\n            margin-top: 0.5rem;\n            padding: 0.5rem;\n          "]);return Ce=function(){return e},e}function Se(){var e=Object(re.a)(["\n              margin: 0;\n            "]);return Se=function(){return e},e}function Ne(){var e=Object(re.a)(["\n            display: flex;\n            justify-content: space-between;\n            background-color: #eaeaea;\n            padding: 0.5rem;\n          "]);return Ne=function(){return e},e}function De(){var e=Object(re.a)(["\n          display: ",";\n          position: fixed;\n          bottom: 0;\n          right: 5rem;\n          border: 1px solid black;\n          border-bottom: none;\n          background-color: white;\n          min-width: 300px;\n        "]);return De=function(){return e},e}function Te(){var e=Object(re.a)(["\n      display: flex;\n      justify-content: space-between;\n      padding: 0.5rem;\n    "]);return Te=function(){return e},e}var ke=function(e){return n.a.createElement("div",Object.assign({className:Object(ne.a)(Te())},e))},_e=Object(m.f)((function(e){var t=e.compare,a=e.compareClear,c=e.compareRemove,o=e.location,s=t.length>0&&"/compare"!==o.pathname,i=Object(r.useState)(!0),l=Object(ge.a)(i,2),u=l[0],p=l[1],m=Object(h.map)(t,"ndbno").join(",");return n.a.createElement("div",{className:Object(ne.a)(De(),s?"initial":"none")},n.a.createElement("div",{className:Object(ne.a)(Ne()),onClick:function(){return p(!u)}},n.a.createElement("h3",{className:Object(ne.a)(Se())},"Collection ",n.a.createElement("small",null,"(",t.length,")")),u?" \ud83d\udd3c":" \ud83d\udd3d"),n.a.createElement("table",{className:Object(ne.a)(Ce(),u?"visible":"none")},n.a.createElement("tbody",null,t.map((function(e){return n.a.createElement("tr",{key:e.ndbno},n.a.createElement("td",{className:Object(ne.a)(Re()),title:e.report?e.report.desc.name:e.ndbno},e.report?e.report.desc.name:e.ndbno),n.a.createElement("td",null,e.amount," g"),n.a.createElement("td",null,n.a.createElement("button",{onClick:function(){return c(e.ndbno)}},"X")))})))),n.a.createElement(ke,{style:{display:u?"flex":"none"}},n.a.createElement("button",{onClick:a},"Clear Collection"),n.a.createElement(f.a,{to:"/compare?ids=".concat(m)},"Go to Collection")))})),Pe={compareClear:function(e){return{type:"COMPARE_CLEAR"}},compareRemove:function(e){return{type:"COMPARE_REMOVE",payload:e}}},Ae=Object(p.c)((function(e){return{compare:e.app.compare.map((function(t){return Object(D.a)(Object(D.a)({},t),{},{report:e.app.reports[t.ndbno]})}))}}),Pe)(_e),Fe=a(36),Ve=a(44),Ie=a(456),we=a(23),Me=a(198),xe={searching:!1,searchQuery:"",searchDataSource:"STANDARD_REFERENCE",mass:100,reports:{},compare:[]},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(console.log(a,r),a){case"SET_QUERY":return Object(D.a)(Object(D.a)({},e),{},{searchQuery:r,searchResult:void 0,searchError:void 0});case"SET_DATA_SOURCE":return Object(D.a)(Object(D.a)({},e),{},{searchDataSource:r,searchResult:void 0,searchError:void 0});case"SEARCH":return""===e.searchQuery?Object(D.a)(Object(D.a)({},e),{},{searching:!1,searchResult:void 0,searchError:void 0}):Object(D.a)(Object(D.a)({},e),{},{searching:!0,searchResult:void 0,searchError:void 0});case"SEARCH_FULFILLED":return Object(D.a)(Object(D.a)({},e),{},{searchResult:r,searching:!1});case"SEARCH_REJECTED":return Object(D.a)(Object(D.a)({},e),{},{searchError:r,searching:!1});case"GET_REPORT":return Object(D.a)(Object(D.a)({},e),{},{getReportNDBNO:r,gettingReport:!0,getReportResult:void 0,getReportError:void 0});case"GET_REPORT_FULFILLED":return Object(D.a)(Object(D.a)({},e),{},{getReportResult:r,gettingReport:!1,getReportNDBNO:void 0,reports:Object(D.a)(Object(D.a)({},e.reports),{},Object(N.a)({},r.desc.ndbno,r))});case"GET_REPORT_REJECTED":return Object(D.a)(Object(D.a)({},e),{},{getReportError:r,gettingReport:!1,getReportNDBNO:void 0});case"SET_MASS":return Object(D.a)(Object(D.a)({},e),{},{mass:r});case"COMPARE_SET":return Object(D.a)(Object(D.a)({},e),{},{compare:r});case"COMPARE_UPSERT":return Object(D.a)(Object(D.a)({},e),{},{compare:Object(h.uniqBy)([r].concat(Object(ue.a)(e.compare)),"ndbno")});case"COMPARE_REMOVE":return Object(D.a)(Object(D.a)({},e),{},{compare:e.compare.filter((function(e){return e.ndbno!==r}))});case"COMPARE_CLEAR":return Object(D.a)(Object(D.a)({},e),{},{compare:xe.compare});default:return e}},Le=a(460),Ue=a(458),Qe=a(451),qe=a(459),Je=a(216),He=a(103),Ge=a(455),We=a(215),Ke=a(457),Ze=a(217),Xe="FYTSTF75mesLeO85VFSKvqgWEzdL0hQAYCZUtjJk",Ye=Object(Ke.a)((function(e,t){return e.pipe(Object(We.a)("SEARCH"),Object(Ue.a)(500),Object(Qe.a)((function(e){return""!==t.value.app.searchQuery})),Object(qe.a)(console.log(t.value)),Object(Je.a)((function(e){return Le.a.getJSON("https://api.nal.usda.gov/ndb/search?api_key=".concat(Xe,"&q=").concat(encodeURIComponent(t.value.app.searchQuery),"&ds=").concat((a=t.value.app.searchDataSource,{BOTH:encodeURIComponent(""),STANDARD_REFERENCE:encodeURIComponent("Standard Reference"),BRANDED_FOOD_PRODUCTS:encodeURIComponent("Branded Food Products")}[a]))).pipe(Object(He.a)((function(e){return e.errors?{type:"SEARCH_REJECTED",payload:e}:function(e){return{type:"SEARCH_FULFILLED",payload:e}}(e)})),Object(Ge.a)((function(e){return Object(Ze.a)({type:"SEARCH_REJECTED",payload:e.xhr.response,error:!0})})));var a})))}),(function(e){return e.pipe(Object(We.a)("GET_REPORT"),Object(Ue.a)(500),Object(Je.a)((function(e){return Le.a.getJSON("https://api.nal.usda.gov/ndb/V2/reports?api_key=".concat(Xe,"&ndbno=").concat(encodeURIComponent(e.payload))).pipe(Object(He.a)((function(e){return e.foods[0].error?{type:"GET_REPORT_REJECTED",payload:e}:function(e){return{type:"GET_REPORT_FULFILLED",payload:e}}(e.foods[0].food)})),Object(Ge.a)((function(e){return Object(Ze.a)({type:"GET_REPORT_REJECTED",payload:e.xhr.response,error:!0})})))})))})),ze=Object(Ie.a)(),$e=Object(we.a)({basename:"/usda-frontend/"});var et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Fe.a,{history:$e,basename:"/usda-frontend"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0,component:H}),n.a.createElement(m.a,{path:"/search",exact:!0,component:H}),n.a.createElement(m.a,{path:"/report/:ndbno",component:le}),n.a.createElement(m.a,{path:"/compare",exact:!0,component:ye})),n.a.createElement(Ae,null)))}}]),a}(r.Component),tt=Object(p.c)((function(e){return{}}),{})(et);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(p.a,{store:function(e){var t,a=Object(Ve.e)((t=$e,Object(Ve.c)({router:Object(Fe.b)(t),app:Be})),e,Object(Ve.d)(Object(Ve.a)(Object(Me.a)($e),ze),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return ze.run(Ye),a}()},n.a.createElement(Fe.a,{history:$e},n.a.createElement(tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[249,1,2]]]);
//# sourceMappingURL=main.f1ea33cf.chunk.js.map