(window["webpackJsonpusda-react"]=window["webpackJsonpusda-react"]||[]).push([[0],{68:function(e,t,r){e.exports=r(81)},73:function(e,t,r){},78:function(e,t,r){},81:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(40),o=r.n(c),s=(r(73),r(9)),l=r(10),u=r(12),p=r(11),i=r(13),h=r(6),d=r(20),b=(r(78),r(25)),m=r(8),O=r(23),E=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleItemClick=function(e){r.props.push("/report/".concat(e.target.value))},r.handleItemClick=r.handleItemClick.bind(Object(b.a)(r)),r}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(O.sortBy)(this.props.result.list.item,"name"),r=this.props.result.list.q,n=this.props.result.list.ds,c=this.props.result.list.start,o=Number(this.props.result.list.end)-1,s=this.props.result.list.total;return a.a.createElement("div",{className:"SearchResult"},a.a.createElement("div",null,'Result for "',r,'" in "',n,'" (',c," to ",o," of ",s,"):"),a.a.createElement("ul",null,t.map(function(t,r){return a.a.createElement("li",{key:r},a.a.createElement("button",{onClick:e.handleItemClick,value:t.ndbno},t.name))})))}}]),t}(n.Component),j={push:m.d},f=Object(h.c)(function(e){return{}},j)(E),g=function(e){return{type:"SEARCH",payload:e}},R=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleInputChange=function(e){r.props.search(e.target.value)},r.handleInputChange=r.handleInputChange.bind(Object(b.a)(r)),r}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"SearchBar"},a.a.createElement("label",null,"Search: ",a.a.createElement("input",{type:"text",value:this.props.searchQuery,onChange:this.handleInputChange})))}}]),t}(n.Component),y={search:g},v=Object(h.c)(function(e){return{searchQuery:e.app.searchQuery}},y)(R),C=function(e){function t(e){var r;Object(s.a)(this,t),r=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=new URLSearchParams(window.location.search);return n.has("query")?r.props.search(n.get("query")):r.props.search(""),r}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.searching?a.a.createElement("span",null,'Searching for "',this.props.query,'"...'):this.props.error?a.a.createElement("pre",null,a.a.createElement("code",null,JSON.stringify(this.props.error,null,2))):this.props.result?a.a.createElement(f,{result:this.props.result}):null;return a.a.createElement("div",{className:"SearchPage"},a.a.createElement("h1",null,"Search USDA API"),a.a.createElement(v,null),e)}}]),t}(n.Component),N={search:g},S=Object(h.c)(function(e){return{searching:e.app.searching,query:e.app.searchQuery,result:e.app.searchResult,error:e.app.searchError}},N)(C),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Report"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"id"),a.a.createElement("td",null,"Name"),a.a.createElement("td",null,"Group"),a.a.createElement("td",null,"Per 100 g"))),a.a.createElement("tbody",null,this.props.report.nutrients.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.nutrient_id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.group),a.a.createElement("td",null,"".concat(e.value," ").concat(e.unit)))}))))}}]),t}(n.Component),k=Object(h.c)(function(e){return{}},{})(T),w=r(35),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.name.split(", ");return a.a.createElement("div",{className:"Breadcrumbs"},e.map(function(e,t,r){return a.a.createElement("span",{key:t},"\xa0/\xa0",a.a.createElement(w.a,{to:{pathname:"/search",search:"?query=".concat(r.slice(0,t+1).join(", "))},className:"Breadcrumbs-item"},e))}))}}]),t}(n.Component),P=Object(h.c)(function(e){return{}},{})(D),_=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).urlNDBNO=r.props.match.params.ndbno,r.props.getReport(r.urlNDBNO),r}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"ReportPage"},a.a.createElement(w.a,{to:"/search/"},"\u2190 New Search"),a.a.createElement("h1",null,this.props.loaded?"".concat(this.props.name):"Loading report for ndbno ".concat(this.urlNDBNO),a.a.createElement("br",null),this.props.loaded&&a.a.createElement("small",null,[this.props.ds,this.props.manu,this.props.ndbno].filter(function(e){return e}).join(" \xb7 "))),this.props.loaded&&a.a.createElement(P,{name:this.props.name}),this.props.loaded&&a.a.createElement(k,{report:this.props.report}))}}]),t}(n.Component),I={getReport:function(e){return{type:"GET_REPORT",payload:e}}},L=Object(h.c)(function(e){return{loaded:!Object(O.isUndefined)(e.app.getReportResult),report:e.app.getReportResult,name:Object(O.get)(e.app.getReportResult,"desc.name"),ds:Object(O.get)(e.app.getReportResult,"desc.ds"),manu:Object(O.get)(e.app.getReportResult,"desc.manu"),ndbno:Object(O.get)(e.app.getReportResult,"desc.ndbno")}},I)(_),A=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d.c,null,a.a.createElement(d.a,{path:"/",exact:!0,component:S}),a.a.createElement(d.a,{path:"/search",component:S}),a.a.createElement(d.a,{path:"/report/:ndbno",component:L})))}}]),t}(n.Component),B=Object(h.c)(function(e){return{}},{})(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=r(27),F=r(85),U=r(15),G=r(59),q=r(62),H=r(29);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(r,!0).forEach(function(t){Object(q.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var W={searching:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case"SEARCH":return console.log(r,n),x({},e,""===n?{searchQuery:n,searching:!1,searchResult:void 0,searchError:void 0}:{searchQuery:n,searching:!0,searchResult:void 0,searchError:void 0});case"SEARCH_FULFILLED":return console.log(r,n),x({},e,{searchResult:n,searching:!1});case"SEARCH_REJECTED":return console.log(r,n),x({},e,{searchError:n,searching:!1});case"GET_REPORT":return console.log(r,n),x({},e,{getReportNDBNO:n,gettingReport:!0,getReportResult:void 0,getReportError:void 0});case"GET_REPORT_FULFILLED":return console.log(r,n),x({},e,{getReportResult:n,gettingReport:!1,getReportNDBNO:void 0});case"GET_REPORT_REJECTED":return console.log(r,n),x({},e,{getReportError:n,gettingReport:!1,getReportNDBNO:void 0});default:return e}},Y=function(e){return Object(J.c)({router:Object(H.b)(e),app:V})},z=r(88),K=r(87),Z=r(82),$=r(64),M=r(47),X=r(84),ee=r(63),te=r(86),re=r(65),ne="FYTSTF75mesLeO85VFSKvqgWEzdL0hQAYCZUtjJk",ae=Object(te.a)(function(e){return e.pipe(Object(ee.a)("SEARCH"),Object(K.a)(500),Object(Z.a)(function(e){return""!==e.payload}),Object($.a)(function(e){return z.a.getJSON("https://api.nal.usda.gov/ndb/search?api_key=".concat(ne,"&q=").concat(encodeURIComponent(e.payload),"&ds=").concat(encodeURIComponent("Standard Reference"))).pipe(Object(M.a)(function(e){return e.errors?{type:"SEARCH_REJECTED",payload:e}:function(e){return{type:"SEARCH_FULFILLED",payload:e}}(e)}),Object(X.a)(function(e){return Object(re.a)({type:"SEARCH_REJECTED",payload:e.xhr.response,error:!0})}))}))},function(e){return e.pipe(Object(ee.a)("GET_REPORT"),Object(K.a)(500),Object($.a)(function(e){return z.a.getJSON("https://api.nal.usda.gov/ndb/V2/reports?api_key=".concat(ne,"&ndbno=").concat(encodeURIComponent(e.payload))).pipe(Object(M.a)(function(e){return e.foods[0].error?{type:"GET_REPORT_REJECTED",payload:e}:function(e){return{type:"GET_REPORT_FULFILLED",payload:e}}(e.foods[0].food)}),Object(X.a)(function(e){return Object(re.a)({type:"GET_REPORT_REJECTED",payload:e.xhr.response,error:!0})}))}))}),ce=Object(F.a)(),oe=Object(U.a)({basename:"/bouncing-dvd/"});o.a.render(a.a.createElement(h.a,{store:function(e){var t=Object(J.e)(Y(oe),e,Object(J.d)(Object(J.a)(Object(G.a)(oe),ce)));return ce.run(ae),t}()},a.a.createElement(H.a,{history:oe},a.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[68,1,2]]]);
//# sourceMappingURL=main.b3c0dc45.chunk.js.map